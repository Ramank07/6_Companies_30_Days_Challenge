class Solution {
public:
int solve(int ind,unordered_set<string>&st, string& s, int &n, vector<int>&dp){
    if(ind>=n)return 0;
    if(dp[ind]!=-1)return dp[ind];
    int ans=1+solve(ind+1,st,s,n,dp);
    for(int i=ind; i<n; i++){
        string str=s.substr(ind,i-ind+1);
        if(st.count(str)){
            ans=min(ans,solve(i+1,st,s,n,dp));
        }
    }
    return dp[ind]=ans;
}
    int minExtraChar(string s, vector<string>& dictionary) {
        unordered_set<string>st(dictionary.begin(),dictionary.end());
        int n=s.size();
        vector<int>dp(n,-1);
        return solve(0,st,s,n,dp);
       

    }
};